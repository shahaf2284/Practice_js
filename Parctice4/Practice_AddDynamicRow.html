<html>
    <body onload="upLoadTable()">
        <!--
            Get the followong data from the Url https://jsonplaceholder.typicode.com/users
            Rest API and present it in table format.
        -->
            <table border="1" id="MyTable">
                <tr>
                    <th>Id</th>
                    <th>Name</th>
                    <th>Email</th>
                </tr>
            </table>
            <br><br>
            <button onclick="updateTable()">Click here to update the table</button>
            <br><br>

            <table border="1" id="Tab">
                <tr>
                    <th>Id</th>
                    <th>Name</th>
                    <th>Email</th>
                </tr>
            </table>

        <script>
            async function updateTable()
            {
                var Table = document.getElementById("MyTable");
                var resp = await fetch('https://jsonplaceholder.typicode.com/users');
                const data = await resp.json();
                for (let i = 0; i < data.length; i++)
                {
                    var newRow = Table.insertRow();
                    var cell1 = newRow.insertCell(0);
                    var cell2 = newRow.insertCell(1);
                    var cell3 = newRow.insertCell(2);
                    cell1.innerText = data[i].id;
                    cell2.innerText = data[i].name;
                    cell3.innerText = data[i].email;
                }
            }

            async function upLoadTable()
            {
                var tab = document.getElementById("Tab");
                var respons = await fetch('https://jsonplaceholder.typicode.com/users');
                const Users = await respons.json();
                Users.forEach((user) => 
                {
                    console.log(user.id);
                    // Create the row
                    const tr = document.createElement('tr');
                    
                    // Creare the cells
                    const idUser = document.createElement('td');
                    const nameUser = document.createElement('td');
                    const emailUser = document.createElement('td');

                    // Fill the cells with the data
                    idUser.innerText = user.id;
                    nameUser.innerText = user.name;
                    emailUser.innerText = user.email;
                    
                    // Append the cells to the row
                    tr.appendChild(idUser);
                    tr.appendChild(nameUser);
                    tr.appendChild(emailUser);

                    // Append the row to the table
                    tab.appendChild(tr);
                });
            
            }





        </script>
    </body>
</html>